<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë‚ ì”¨ ì•±</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0b1120;
      --surface: rgba(255,255,255,0.06);
      --surface2: rgba(255,255,255,0.10);
      --border: rgba(255,255,255,0.10);
      --border2: rgba(255,255,255,0.18);
      --text: #f0f4ff;
      --muted: rgba(240,244,255,0.5);
      --accent: #60a5fa;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      min-height: 100vh;
      transition: background 0.8s ease;
    }

    /* â”€â”€ Dynamic backgrounds â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    body.bg-clear    { background: linear-gradient(160deg, #0f2027, #203a43, #2c5364); }
    body.bg-cloudy   { background: linear-gradient(160deg, #1c1c2e, #2d2d44, #4a4a6a); }
    body.bg-rain     { background: linear-gradient(160deg, #0d1b2a, #1b2838, #1e3a5f); }
    body.bg-snow     { background: linear-gradient(160deg, #1a1a2e, #2d3561, #3d5a80); }
    body.bg-fog      { background: linear-gradient(160deg, #1a1a1a, #2d2d2d, #3a3a3a); }
    body.bg-thunder  { background: linear-gradient(160deg, #0d0d1a, #1a0d2e, #2d1b4e); }

    /* â”€â”€ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .wrap {
      max-width: 680px;
      margin: 0 auto;
      padding: 32px 20px 60px;
    }

    /* â”€â”€ Search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .search-row {
      display: flex;
      gap: 8px;
      margin-bottom: 28px;
    }

    .search-box {
      position: relative;
      flex: 1;
    }

    .search-input {
      width: 100%;
      height: 48px;
      background: var(--surface2);
      border: 1px solid var(--border2);
      border-radius: 12px;
      color: var(--text);
      font-size: 15px;
      padding: 0 48px 0 16px;
      outline: none;
      transition: border-color .2s;
    }
    .search-input::placeholder { color: var(--muted); }
    .search-input:focus { border-color: var(--accent); }

    .search-clear {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--muted);
      font-size: 18px;
      cursor: pointer;
      line-height: 1;
      padding: 4px;
    }

    .suggest-list {
      position: absolute;
      top: calc(100% + 6px);
      left: 0;
      right: 0;
      background: #1e2d45;
      border: 1px solid var(--border2);
      border-radius: 12px;
      overflow: hidden;
      z-index: 50;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    }

    .suggest-item {
      padding: 12px 16px;
      font-size: 14px;
      cursor: pointer;
      border-bottom: 1px solid var(--border);
      transition: background .15s;
    }
    .suggest-item:last-child { border-bottom: none; }
    .suggest-item:hover { background: var(--surface2); }
    .suggest-item-sub { font-size: 12px; color: var(--muted); margin-top: 2px; }

    .loc-btn {
      height: 48px;
      width: 48px;
      flex-shrink: 0;
      background: var(--surface2);
      border: 1px solid var(--border2);
      border-radius: 12px;
      color: var(--text);
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background .2s, border-color .2s;
    }
    .loc-btn:hover { background: var(--surface); border-color: var(--accent); }
    .loc-btn:disabled { opacity: .45; cursor: default; }

    .unit-btn {
      height: 48px;
      padding: 0 16px;
      flex-shrink: 0;
      background: var(--surface2);
      border: 1px solid var(--border2);
      border-radius: 12px;
      color: var(--text);
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: background .2s;
    }
    .unit-btn:hover { background: var(--surface); }

    /* â”€â”€ States â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .state-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 14px;
      padding: 80px 20px;
      text-align: center;
    }

    .state-icon { font-size: 56px; }
    .state-title { font-size: 20px; font-weight: 700; }
    .state-sub { font-size: 14px; color: var(--muted); max-width: 300px; line-height: 1.6; }

    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid var(--border2);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin .7s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* â”€â”€ Current weather card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .current-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 28px;
      margin-bottom: 16px;
      backdrop-filter: blur(12px);
    }

    .city-name {
      font-size: 22px;
      font-weight: 800;
      letter-spacing: -0.5px;
      margin-bottom: 2px;
    }

    .city-sub {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 20px;
    }

    .current-main {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 20px;
    }

    .weather-emoji { font-size: 64px; line-height: 1; }

    .temp-block {}

    .temp-now {
      font-size: 68px;
      font-weight: 900;
      letter-spacing: -3px;
      line-height: 1;
    }

    .temp-feels {
      font-size: 14px;
      color: var(--muted);
      margin-top: 4px;
    }

    .weather-desc {
      font-size: 18px;
      font-weight: 600;
      color: var(--muted);
      margin-top: 4px;
    }

    .stats-row {
      display: flex;
      gap: 0;
      border-top: 1px solid var(--border);
      padding-top: 18px;
    }

    .stat {
      flex: 1;
      text-align: center;
      border-right: 1px solid var(--border);
    }
    .stat:last-child { border-right: none; }

    .stat-val {
      font-size: 20px;
      font-weight: 800;
    }

    .stat-label {
      font-size: 12px;
      color: var(--muted);
      margin-top: 3px;
    }

    /* â”€â”€ Forecast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .forecast-title {
      font-size: 13px;
      font-weight: 700;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    @media (max-width: 480px) {
      .forecast-grid { grid-template-columns: repeat(4, 1fr); }
    }

    .forecast-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 8px;
      text-align: center;
      backdrop-filter: blur(8px);
    }

    .fc-day { font-size: 11px; color: var(--muted); margin-bottom: 6px; font-weight: 600; }
    .fc-icon { font-size: 22px; margin-bottom: 6px; }
    .fc-max { font-size: 14px; font-weight: 800; }
    .fc-min { font-size: 12px; color: var(--muted); margin-top: 2px; }

    /* â”€â”€ Updated time â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .updated-time {
      font-size: 12px;
      color: var(--muted);
      text-align: right;
      margin-top: 12px;
      opacity: .6;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    /* â”€â”€â”€ WMO ë‚ ì”¨ ì½”ë“œ ë§¤í•‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const WMO = {
      0:  { emoji: 'â˜€ï¸',  label: 'ë§‘ìŒ',       bg: 'clear'   },
      1:  { emoji: 'ğŸŒ¤ï¸', label: 'ëŒ€ì²´ë¡œ ë§‘ìŒ', bg: 'clear'   },
      2:  { emoji: 'â›…',  label: 'êµ¬ë¦„ ì¡°ê¸ˆ',  bg: 'cloudy'  },
      3:  { emoji: 'â˜ï¸',  label: 'íë¦¼',       bg: 'cloudy'  },
      45: { emoji: 'ğŸŒ«ï¸', label: 'ì•ˆê°œ',        bg: 'fog'     },
      48: { emoji: 'ğŸŒ«ï¸', label: 'ì§™ì€ ì•ˆê°œ',  bg: 'fog'     },
      51: { emoji: 'ğŸŒ¦ï¸', label: 'ì´ìŠ¬ë¹„',     bg: 'rain'    },
      53: { emoji: 'ğŸŒ¦ï¸', label: 'ì´ìŠ¬ë¹„',     bg: 'rain'    },
      55: { emoji: 'ğŸŒ¦ï¸', label: 'ì´ìŠ¬ë¹„',     bg: 'rain'    },
      61: { emoji: 'ğŸŒ§ï¸', label: 'ë¹„',         bg: 'rain'    },
      63: { emoji: 'ğŸŒ§ï¸', label: 'ë¹„',         bg: 'rain'    },
      65: { emoji: 'ğŸŒ§ï¸', label: 'ê°•í•œ ë¹„',    bg: 'rain'    },
      71: { emoji: 'ğŸŒ¨ï¸', label: 'ëˆˆ',         bg: 'snow'    },
      73: { emoji: 'ğŸŒ¨ï¸', label: 'ëˆˆ',         bg: 'snow'    },
      75: { emoji: 'â„ï¸',  label: 'ê°•í•œ ëˆˆ',   bg: 'snow'    },
      77: { emoji: 'ğŸŒ¨ï¸', label: 'ì‹¸ë½ëˆˆ',     bg: 'snow'    },
      80: { emoji: 'ğŸŒ¦ï¸', label: 'ì†Œë‚˜ê¸°',     bg: 'rain'    },
      81: { emoji: 'ğŸŒ§ï¸', label: 'ì†Œë‚˜ê¸°',     bg: 'rain'    },
      82: { emoji: 'â›ˆï¸',  label: 'ê°•í•œ ì†Œë‚˜ê¸°',bg: 'rain'   },
      85: { emoji: 'ğŸŒ¨ï¸', label: 'ëˆˆ ì†Œë‚˜ê¸°',  bg: 'snow'    },
      86: { emoji: 'â„ï¸',  label: 'ê°•í•œ ëˆˆ ì†Œë‚˜ê¸°', bg: 'snow'},
      95: { emoji: 'â›ˆï¸',  label: 'ë‡Œìš°',      bg: 'thunder' },
      96: { emoji: 'â›ˆï¸',  label: 'ë‡Œìš° + ìš°ë°•', bg: 'thunder'},
      99: { emoji: 'â›ˆï¸',  label: 'ë‡Œìš° + ìš°ë°•', bg: 'thunder'},
    };

    function getWmo(code) {
      return WMO[code] || { emoji: 'ğŸŒ¡ï¸', label: 'ì•Œ ìˆ˜ ì—†ìŒ', bg: 'clear' };
    }

    /* â”€â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const DAYS = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];

    function formatDay(dateStr, idx) {
      if (idx === 0) return 'ì˜¤ëŠ˜';
      const d = new Date(dateStr);
      return DAYS[d.getDay()] + 'ìš”ì¼';
    }

    function toF(c) { return Math.round(c * 9/5 + 32); }

    function fmtTemp(c, isFahr) {
      return isFahr ? `${toF(c)}Â°F` : `${Math.round(c)}Â°C`;
    }

    function fmtSpeed(ms, isFahr) {
      // isFahr â†’ mph, else km/h
      return isFahr
        ? `${Math.round(ms * 2.237)} mph`
        : `${Math.round(ms * 3.6)} km/h`;
    }

    /* â”€â”€â”€ API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    async function geocode(city) {
      const res = await fetch(
        `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(city)}&count=5&language=ko&format=json`
      );
      const data = await res.json();
      return data.results || [];
    }

    async function fetchWeather(lat, lon) {
      const params = [
        'current=temperature_2m,apparent_temperature,relative_humidity_2m,precipitation,weather_code,wind_speed_10m',
        'daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_sum',
        'timezone=auto',
        'wind_speed_unit=ms',
        `latitude=${lat}`,
        `longitude=${lon}`,
      ].join('&');
      const res = await fetch(`https://api.open-meteo.com/v1/forecast?${params}`);
      if (!res.ok) throw new Error('ë‚ ì”¨ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');
      return res.json();
    }

    /* â”€â”€â”€ Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    function CurrentCard({ data, location, isFahr }) {
      const { current } = data;
      const wmo = getWmo(current.weather_code);

      return (
        <div className="current-card">
          <div className="city-name">{location.name}</div>
          <div className="city-sub">
            {[location.admin1, location.country].filter(Boolean).join(', ')}
          </div>

          <div className="current-main">
            <div className="weather-emoji">{wmo.emoji}</div>
            <div className="temp-block">
              <div className="temp-now">
                {isFahr ? toF(current.temperature_2m) : Math.round(current.temperature_2m)}
                <span style={{ fontSize: '32px', fontWeight: 400 }}>
                  {isFahr ? 'Â°F' : 'Â°C'}
                </span>
              </div>
              <div className="weather-desc">{wmo.label}</div>
              <div className="temp-feels">
                ì²´ê° {fmtTemp(current.apparent_temperature, isFahr)}
              </div>
            </div>
          </div>

          <div className="stats-row">
            <div className="stat">
              <div className="stat-val">ğŸ’§ {current.relative_humidity_2m}%</div>
              <div className="stat-label">ìŠµë„</div>
            </div>
            <div className="stat">
              <div className="stat-val">ğŸ’¨ {fmtSpeed(current.wind_speed_10m, isFahr)}</div>
              <div className="stat-label">í’ì†</div>
            </div>
            <div className="stat">
              <div className="stat-val">ğŸŒ§ï¸ {current.precipitation} mm</div>
              <div className="stat-label">ê°•ìˆ˜ëŸ‰</div>
            </div>
          </div>
        </div>
      );
    }

    function ForecastRow({ daily, isFahr }) {
      return (
        <div>
          <div className="forecast-title">7ì¼ ì˜ˆë³´</div>
          <div className="forecast-grid">
            {daily.time.map((dateStr, i) => {
              const wmo = getWmo(daily.weather_code[i]);
              return (
                <div className="forecast-card" key={dateStr}>
                  <div className="fc-day">{formatDay(dateStr, i)}</div>
                  <div className="fc-icon">{wmo.emoji}</div>
                  <div className="fc-max">{fmtTemp(daily.temperature_2m_max[i], isFahr)}</div>
                  <div className="fc-min">{fmtTemp(daily.temperature_2m_min[i], isFahr)}</div>
                </div>
              );
            })}
          </div>
        </div>
      );
    }

    /* â”€â”€â”€ Main App â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function App() {
      const [query,    setQuery]    = useState('');
      const [suggests, setSuggests] = useState([]);
      const [location, setLocation] = useState(null);
      const [weather,  setWeather]  = useState(null);
      const [loading,  setLoading]  = useState(false);
      const [error,    setError]    = useState(null);
      const [isFahr,   setIsFahr]   = useState(false);
      const [locating, setLocating] = useState(false);
      const debounceRef  = useRef(null);
      const suggestRef   = useRef(null);
      const composingRef = useRef(false); // IME ì¡°í•© ì¤‘ ì—¬ë¶€

      // ì™¸ë¶€ í´ë¦­ ì‹œ ìë™ì™„ì„± ë‹«ê¸°
      useEffect(() => {
        function handler(e) {
          if (suggestRef.current && !suggestRef.current.contains(e.target)) {
            setSuggests([]);
          }
        }
        document.addEventListener('mousedown', handler);
        return () => document.removeEventListener('mousedown', handler);
      }, []);

      // ë°°ê²½ í´ë˜ìŠ¤ ì ìš©
      useEffect(() => {
        if (!weather) return;
        const wmo = getWmo(weather.current.weather_code);
        document.body.className = `bg-${wmo.bg}`;
        return () => { document.body.className = ''; };
      }, [weather]);

      // ê²€ìƒ‰ì–´ ë””ë°”ìš´ìŠ¤ â†’ ìë™ì™„ì„±
      function handleInput(val) {
        setQuery(val);
        clearTimeout(debounceRef.current);
        if (!val.trim()) { setSuggests([]); return; }
        // í•œê¸€ IME ì¡°í•© ì¤‘ì—ëŠ” API í˜¸ì¶œ ìŠ¤í‚µ
        if (composingRef.current) return;
        debounceRef.current = setTimeout(async () => {
          const results = await geocode(val);
          setSuggests(results.slice(0, 5));
        }, 350);
      }

      // IME ì¡°í•© ì™„ë£Œ ì‹œ (í•œê¸€ ìŒì ˆ í™•ì •) â†’ ì¦‰ì‹œ ê²€ìƒ‰ íŠ¸ë¦¬ê±°
      function handleCompositionEnd(e) {
        composingRef.current = false;
        handleInput(e.target.value);
      }

      // ë„ì‹œ ì„ íƒ â†’ ë‚ ì”¨ ë¡œë“œ
      async function selectLocation(loc) {
        setSuggests([]);
        setQuery(loc.name);
        setError(null);
        setLoading(true);
        try {
          const data = await fetchWeather(loc.latitude, loc.longitude);
          setLocation(loc);
          setWeather(data);
        } catch (e) {
          setError(e.message);
        } finally {
          setLoading(false);
        }
      }

      // Enter í‚¤ â†’ ì²« ë²ˆì§¸ ìë™ì™„ì„± ì„ íƒ
      async function handleEnter() {
        if (suggests.length > 0) {
          selectLocation(suggests[0]);
          return;
        }
        if (!query.trim()) return;
        setLoading(true);
        setError(null);
        try {
          const results = await geocode(query);
          if (!results.length) throw new Error(`"${query}"ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
          selectLocation(results[0]);
        } catch (e) {
          setError(e.message);
          setLoading(false);
        }
      }

      // ë‚´ ìœ„ì¹˜ ë²„íŠ¼
      function handleGeolocate() {
        if (!navigator.geolocation) {
          setError('ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
          return;
        }
        setLocating(true);
        navigator.geolocation.getCurrentPosition(
          async ({ coords }) => {
            try {
              // ì—­ì§€ì˜¤ì½”ë”©: Open-Meteo geocodingì€ ì—­ì§€ì˜¤ì½”ë”© ë¯¸ì§€ì› â†’ ì¢Œí‘œë¡œ ë°”ë¡œ ë‚ ì”¨ ë¡œë“œ
              const data = await fetchWeather(coords.latitude, coords.longitude);
              setLocation({
                name: 'í˜„ì¬ ìœ„ì¹˜',
                admin1: '',
                country: '',
                latitude: coords.latitude,
                longitude: coords.longitude,
              });
              setWeather(data);
              setQuery('í˜„ì¬ ìœ„ì¹˜');
            } catch (e) {
              setError(e.message);
            } finally {
              setLocating(false);
            }
          },
          () => {
            setError('ìœ„ì¹˜ ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.');
            setLocating(false);
          }
        );
      }

      const updatedAt = weather
        ? new Date(weather.current.time).toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })
        : null;

      return (
        <div className="wrap">
          {/* Search row */}
          <div className="search-row">
            <div className="search-box" ref={suggestRef}>
              <input
                className="search-input"
                type="text"
                placeholder="ë„ì‹œ ê²€ìƒ‰ (ì˜ˆ: ì„œìš¸, Tokyo, New Yorkâ€¦)"
                value={query}
                onChange={e => handleInput(e.target.value)}
                onKeyDown={e => e.key === 'Enter' && handleEnter()}
                onCompositionStart={() => { composingRef.current = true; }}
                onCompositionEnd={handleCompositionEnd}
              />
              {query && (
                <button className="search-clear" onClick={() => { setQuery(''); setSuggests([]); }}>
                  âœ•
                </button>
              )}
              {suggests.length > 0 && (
                <div className="suggest-list">
                  {suggests.map((s, i) => (
                    <div key={i} className="suggest-item" onClick={() => selectLocation(s)}>
                      <div>{s.name}</div>
                      <div className="suggest-item-sub">
                        {[s.admin1, s.country].filter(Boolean).join(', ')}
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </div>
            <button
              className="loc-btn"
              onClick={handleGeolocate}
              disabled={locating}
              title="í˜„ì¬ ìœ„ì¹˜"
            >
              {locating ? 'â€¦' : 'ğŸ“'}
            </button>
            <button
              className="unit-btn"
              onClick={() => setIsFahr(f => !f)}
              title="ë‹¨ìœ„ ì „í™˜"
            >
              {isFahr ? 'Â°C' : 'Â°F'}
            </button>
          </div>

          {/* Loading */}
          {loading && (
            <div className="state-center">
              <div className="spinner" />
              <p className="state-sub">ë‚ ì”¨ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</p>
            </div>
          )}

          {/* Error */}
          {!loading && error && (
            <div className="state-center">
              <div className="state-icon">ğŸ˜•</div>
              <div className="state-title">ì˜¤ë¥˜ ë°œìƒ</div>
              <p className="state-sub">{error}</p>
            </div>
          )}

          {/* Empty */}
          {!loading && !error && !weather && (
            <div className="state-center">
              <div className="state-icon">ğŸŒ</div>
              <div className="state-title">ë„ì‹œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”</div>
              <p className="state-sub">
                ë„ì‹œ ì´ë¦„ì„ ì…ë ¥í•˜ê±°ë‚˜ ğŸ“ ë²„íŠ¼ìœ¼ë¡œ<br />
                í˜„ì¬ ìœ„ì¹˜ì˜ ë‚ ì”¨ë¥¼ í™•ì¸í•˜ì„¸ìš”.
              </p>
            </div>
          )}

          {/* Weather */}
          {!loading && !error && weather && location && (
            <>
              <CurrentCard data={weather} location={location} isFahr={isFahr} />
              <ForecastRow daily={weather.daily} isFahr={isFahr} />
              {updatedAt && (
                <p className="updated-time">ê¸°ì¤€ ì‹œê°: {updatedAt}</p>
              )}
            </>
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
